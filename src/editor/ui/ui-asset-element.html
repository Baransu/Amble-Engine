<link rel="import" href="../../../bower_components/polymer/polymer.html">

<dom-module id="ui-asset-element">

	<style>

  .holder {
    width: 100px;
    height: 100px;
    margin: 10px;

    overflow: hidden;

    cursor: pointer;

    box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
  }

  .icon {
    width: 100%;
    height: 75%;
    line-height: 75px;
    font-size: 50px;
    text-align: center;
  }

  .text {
    display: inline-block;
    text-align: center;
    width: 100%;
    height: 75%;
    text-overflow: clip;
  }

	</style>

	<template>

    <div class="holder" on-dblclick="_onClick">
      <div class="icon">
        <i class="fa fa-folder" id="icon"></i>
      </div>
      <div class="text">
        {{item.text}}
      </div>
    </div>

	</template>

</dom-module>

<script>

	Polymer({

		is: 'ui-asset-element',

		properties: {

      _currentType: {
        type: String,
        value: 'folder'
      },

      item: {
        type: Object,
        value: null,
        observer: '_itemChange'
      },

    },

    _onClick: function(e) {
      if(this._currentType == 'folder' && this.item.children.length > 0) {
        this.async(() => this.fire('asset-click'), 1);
      }
    },

    _itemChange: function() {
      this.$.icon.classList.remove('fa-' + this._currentType);
      this.$.icon.classList.add('fa-' + this.item.type);
      this._currentType = this.item.type;
    },

	});

</script>
